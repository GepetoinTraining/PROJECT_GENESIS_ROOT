% =======================================================================
% THE FRONT MATTER (Debug Version)
% =======================================================================

% -----------------------------------------------------------------------
% LAYER A: DARK MODE
% -----------------------------------------------------------------------
\begin{ocg}{DarkLayer}{darklayer}{1}
    \pagecolor{ui_dark_bg} 
    
    \begin{titlepage}
        \centering
        \vspace*{1cm}
        
        % 1. Institution
        {\fontspec{FiraSans-Regular.ttf}\small\color{mit_steel} 
         \MakeUppercase{\InstituteName}}
        \vspace{0.2cm}
        \\
        {\fontspec{FiraSans-Bold.ttf}\small\color{mit_steel} 
         APPLIED GENERATIVE AI FOR DIGITAL TRANSFORMATION}
        
        \vspace{2cm}

        % 2. The Image (Debug this)
        \fbox{%
            \begin{minipage}{0.6\textwidth}
                \centering
                % Test if image exists
                \IfFileExists{images/img_enigma_rotors_001.jpeg}{%
                    \includegraphics[width=\textwidth]{images/img_enigma_rotors_001.jpeg}
                }{%
                    \textcolor{mit_cardinal}{IMAGE NOT FOUND: img\_enigma\_rotors\_001.jpeg}
                }
            \end{minipage}
        }
        
        \vspace{1.5cm}

        % 3. Title
        \GenesisTitle{PROJECT GENESIS}
        \vspace{0.5cm}
        \\
        {\fontspec{FiraCode-Regular.ttf}\large\color{term_green} 
         PROTOCOL: SPEED $\times$ RESOLUTION}

        \vspace{3cm}

        % 4. Metadata Box
        \begin{tcolorbox}[
            colback=ui_dark_panel, 
            colframe=mit_charcoal, 
            width=10cm, 
            arc=2mm,
            halign=center
        ]
            \color{ui_dark_text_primary}
            \textbf{OPERATOR:} The CVO \\
            \textbf{SYSTEM:} System B (Gemini Core) \\
            \textbf{DATE:} \today
        \end{tcolorbox}

    \end{titlepage}

    % Executive Summary
    \newpage
    \TapeHeader{OPERATIONAL DIRECTIVE}
    \vspace{1cm}

    \begin{axiombox}{EXECUTIVE SUMMARY}
        This document serves as the architectural blueprint for a 
        \textbf{Time-Agnostic Cognitive Operating System}. 
        By decoupling "Real Time" (Human Execution) from "Trained Time" 
        (AI Simulation), we achieve a proprietary advantage defined as:
        \[ \SxR \]
        The following logic gates and vector patterns demonstrate the 
        "Costco vs. Turkey" filter applied to real-world capital allocation.
    \end{axiombox}

    % Table of Contents
    \vspace{2cm}
    \TapeHeader{MISSION INDEX}
    \vspace{0.5cm}
    
    {
        \color{ui_dark_text_primary}
        \renewcommand{\contentsname}{}
        \tableofcontents
    }

    \newpage
\end{ocg}

% -----------------------------------------------------------------------
% LAYER B: LIGHT MODE
% -----------------------------------------------------------------------
\begin{ocg}{LightLayer}{lightlayer}{0}
    \begin{tikzpicture}[remember picture, overlay]
        \fill[ui_light_bg] (current page.south west) rectangle 
                           (current page.north east);
    \end{tikzpicture}

    \begin{titlepage}
        \centering
        \vspace*{1cm}
        
        {\fontspec{FiraSans-Regular.ttf}\small\color{mit_charcoal} 
         \MakeUppercase{MIT Professional Education}}
        \vspace{0.2cm}
        \\
        {\fontspec{FiraSans-Bold.ttf}\small\color{mit_cardinal} 
         APPLIED GENERATIVE AI FOR DIGITAL TRANSFORMATION}
        
        \vspace{2cm}

        % Image in Light Mode
        \fbox{%
            \begin{minipage}{0.6\textwidth}
                \centering
                \IfFileExists{images/img_enigma_rotors_001.jpeg}{%
                    \includegraphics[width=\textwidth]{images/img_enigma_rotors_001.jpeg}
                }{%
                    \textcolor{mit_cardinal}{IMAGE NOT FOUND}
                }
            \end{minipage}
        }
        
        \vspace{1.5cm}

        \GenesisTitle{PROJECT GENESIS}
        \vspace{0.5cm}
        \\
        {\fontspec{FiraCode-Regular.ttf}\large\color{mit_cardinal} 
         PROTOCOL: SPEED $\times$ RESOLUTION}

        \vspace{3cm}

        \begin{tcolorbox}[
            colback=white, 
            colframe=mit_steel, 
            width=10cm, 
            arc=2mm,
            halign=center,
            drop shadow
        ]
            \color{mit_charcoal}
            \textbf{OPERATOR:} The CVO \\
            \textbf{SYSTEM:} System B (Gemini Core) \\
            \textbf{DATE:} \today
        \end{tcolorbox}

    \end{titlepage}

    \newpage
    \TapeHeader{OPERATIONAL DIRECTIVE}
    \vspace{1cm}

    \begin{axiombox}[colback=white, colframe=mit_cardinal]{EXECUTIVE SUMMARY}
        \color{mit_charcoal}
        This document serves as the architectural blueprint for a 
        \textbf{Time-Agnostic Cognitive Operating System}. 
        By decoupling "Real Time" (Human Execution) from "Trained Time" 
        (AI Simulation), we achieve a proprietary advantage defined as:
        \[ \color{black} \SxR \]
        The following logic gates and vector patterns demonstrate the 
        "Costco vs. Turkey" filter applied to real-world capital allocation.
    \end{axiombox}

    \vspace{2cm}
    \TapeHeader{MISSION INDEX}
    \vspace{0.5cm}
    
    {
        \color{mit_charcoal}
        \renewcommand{\contentsname}{} 
        \tableofcontents
    }

    \newpage
\end{ocg}